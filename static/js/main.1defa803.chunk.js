(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],Array(19).concat([function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__bidfB",BreadTop:"BurgerIngredient_BreadTop__OCa3H",Seeds1:"BurgerIngredient_Seeds1__1q2-t",Seeds2:"BurgerIngredient_Seeds2__mVodQ",Meat:"BurgerIngredient_Meat__2rM70",Cheese:"BurgerIngredient_Cheese__zK8Mh",Salad:"BurgerIngredient_Salad__1RblW",Bacon:"BurgerIngredient_Bacon__3CfaA"}},function(e,t,n){e.exports={Input:"Input_Input__u5YTD",Label:"Input_Label__RRd1A",InputElement:"Input_InputElement__1VjJH",Invalid:"Input_Invalid__24IqW",ValidationError:"Input_ValidationError__2CmP7",Invisible:"Input_Invisible__1n_Vd"}},function(e,t,n){e.exports={App:"App_App__xkxxI","ex-select":"App_ex-select__369Cv","sec-select":"App_sec-select__2EeHn","content-toggle":"App_content-toggle__2e9iK",AppHeader:"App_AppHeader__1qxV0",AppNav:"App_AppNav__3lp5Y",AppNavItem:"App_AppNavItem__1iLCf",AppNavLink:"App_AppNavLink__10JUd",active:"App_active__2ETAm"}},,,,function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1rXfp",Label:"BuildControl_Label__2Dyfc",Less:"BuildControl_Less__Y5I5o",More:"BuildControl_More__wUrVh"}},function(e,t,n){e.exports={red:"StylingReact_red__3u0PV",bold:"StylingReact_bold__uR_Va",Button:"StylingReact_Button__3IbVj",Red:"StylingReact_Red__1fYVp"}},function(e,t,n){e.exports={red:"Cockpit_red__KOL_0",bold:"Cockpit_bold__1_ZIo",Cockpit:"Cockpit_Cockpit__1klq0",Red:"Cockpit_Red__2a1kU"}},,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3LrJ0",Open:"SideDrawer_Open__3Va8J",Close:"SideDrawer_Close__1G03i"}},,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__up-ss",DesktopOnly:"Toolbar_DesktopOnly__3XiVl"}},function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__1NpYX",active:"NavigationItem_active__234vq"}},,,function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__3O5cZ",OrderButton:"BuildControls_OrderButton__30x9B",enable:"BuildControls_enable__2_zPp"}},function(e,t,n){e.exports={Button:"Button_Button__2Ol8N",Success:"Button_Success__2Ga8H",Danger:"Button_Danger__2N-iy",Secondary:"Button_Secondary__2ogxO"}},function(e,t,n){e.exports={Order:"Order_Order__1nLaP",Ingredient:"Order_Ingredient__3_PPY"}},function(e,t,n){e.exports={Auth:"Auth_Auth__3xHwW",Error:"Auth_Error__13dMn"}},,,,,,,,,,,,function(e,t,n){e.exports={Content:"Layout_Content__2rPv5"}},function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__2dWGz"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__3hOfI"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1vRck"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__zU5Ih"}},function(e,t,n){e.exports={Burger:"Burger_Burger__34k0l"}},function(e,t,n){e.exports={Modal:"Modal_Modal__Hh8WR"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__3_gPw",load3:"Spinner_load3__2aLCR"}},function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__jtEun"}},function(e,t,n){e.exports={ContactData:"ContactData_ContactData__3xbIx"}},,function(e,t,n){e.exports={Exercise3:"Exercise3_Exercise3__CMtEY",active:"Exercise3_active__2dfWE"}},function(e,t,n){e.exports={Person:"Person_Person__2Lekt"}},function(e,t,n){e.exports=n(108)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),c=n.n(o),i=n(15),l=n.n(i),s=(n(89),n(1)),u=n(2),d=n(4),p=n(3),h=n(10),m=n(9),f=n(8),g=n(12),v=n(30),E=n(53),b=n(34),y=n.n(b),O=n(54),_=n.n(O),j=n(55),k=n.n(j),C=function(e){return r.a.createElement("div",{className:k.a.Logo,style:{height:e.height}},r.a.createElement("img",{src:_.a,alt:"BurgerBuilder"}))},S=n(56),N=n.n(S),A=n(35),w=n.n(A),I=function(e){return r.a.createElement("li",{className:w.a.NavigationItem},r.a.createElement(h.b,{to:e.link,exact:e.exact,activeClassName:w.a.active},e.children))},P=Object(m.g)((function(e){return r.a.createElement("ul",{className:N.a.NavigationItems},r.a.createElement(I,{link:e.match.url,exact:!0},"Burger Builder"),e.isAuth&&r.a.createElement(I,{link:"".concat(e.match.url,"/orders")},"Orders"),e.isAuth?r.a.createElement(I,{link:"".concat(e.match.url,"/logout")},"Logout"):r.a.createElement(I,{link:"".concat(e.match.url,"/auth")},"Sign On"))})),T=n(57),x=n.n(T),D=function(e){return r.a.createElement("div",{className:x.a.DrawerToggle,onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},R=function(e){return r.a.createElement("header",{className:y.a.Toolbar},r.a.createElement(D,{clicked:e.drawerToggleClicked}),r.a.createElement(C,{height:"80%"}),r.a.createElement("nav",{className:y.a.DesktopOnly},r.a.createElement(P,{isAuth:e.isAuth})))},H=n(11),B=n(24),L=n.n(B),U=n(31),F=n.n(U),M=n(58),V=n.n(M),G=function(e){return e.show&&r.a.createElement("div",{className:V.a.Backdrop,onClick:e.clicked})},q=function(e){var t,n=L()((t={},Object(H.a)(t,F.a.SideDrawer,!0),Object(H.a)(t,F.a.Close,!e.open),Object(H.a)(t,F.a.Open,e.open),t));return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:n,onClick:e.closed},r.a.createElement(C,{height:"11%"}),r.a.createElement("nav",{style:{marginTop:"32px"}},r.a.createElement(P,{isAuth:e.isAuth}))))},W=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSideDrawer:!1},e.sideDrawerClosedHandler=function(){e.setState({showSideDrawer:!1})},e.sideDrawerToggleHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{isAuth:this.props.isAuth,drawerToggleClicked:this.sideDrawerToggleHandler}),r.a.createElement(q,{isAuth:this.props.isAuth,open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),r.a.createElement("main",{className:E.Content},this.props.children))}}]),n}(a.Component),Y=Object(f.b)((function(e){return{isAuth:null!==e.auth.token}}))(W),z=n(5),J=n(6),X=n(19),Q=n.n(X),Z={"bread-bottom":r.a.createElement("div",{className:Q.a.BreadBottom}),"bread-top":r.a.createElement("div",{className:Q.a.BreadTop},r.a.createElement("div",{className:Q.a.Seeds1}),r.a.createElement("div",{className:Q.a.Seeds2})),meat:r.a.createElement("div",{className:Q.a.Meat}),cheese:r.a.createElement("div",{className:Q.a.Cheese}),bacon:r.a.createElement("div",{className:Q.a.Bacon}),salad:r.a.createElement("div",{className:Q.a.Salad})},K=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Z[this.props.type]||null}}]),n}(a.Component),$=K,ee=n(59),te=n.n(ee),ne=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(J.a)(Array(e.ingredients[t])).map((function(e,n){return r.a.createElement($,{key:t+n,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return r.a.createElement("div",{className:te.a.Burger},r.a.createElement($,{type:"bread-top"}),0===t.length?r.a.createElement("p",null,"Choose your ingredients!!!"):t,r.a.createElement($,{type:"bread-bottom"}))},ae=n(25),re=n.n(ae),oe=function(e){return r.a.createElement("div",{className:re.a.BuildControl},r.a.createElement("div",{className:re.a.Label},e.label),r.a.createElement("button",{className:re.a.Less,onClick:e.removed,disabled:e.disabled},"Less"),r.a.createElement("button",{className:re.a.More,onClick:e.added},"More"))},ce=n(38),ie=n.n(ce),le=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],se=function(e){return r.a.createElement("div",{className:ie.a.BuildControls},r.a.createElement("p",null,"Current Price: ",r.a.createElement("strong",null,e.price.toFixed(2))),le.map((function(t){return r.a.createElement(oe,{key:t.type,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]})})),r.a.createElement("button",{className:ie.a.OrderButton,disabled:!e.purchasable,onClick:e.ordered},e.isAuth?"ORDER NOW":"SIGN ON TO ORDER"))},ue=n(39),de=n.n(ue),pe=function(e){return r.a.createElement("button",{className:[de.a.Button,de.a[e.type]].join(" "),disabled:e.disabled,onClick:e.clicked},e.children)},he="Success",me="Danger",fe="Secondary",ge=function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:t},r.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t])}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Order"),r.a.createElement("p",null,"A delicious burger with the following ingredients:"),r.a.createElement("ul",{style:{listStyle:"none",padding:0}},t),r.a.createElement("p",null,r.a.createElement("strong",null,"Total price: ",e.price.toFixed(2))),r.a.createElement("p",null,"Continue to Checkout?"),r.a.createElement(pe,{type:me,clicked:e.purchaseCancelled},"CANCEL"),r.a.createElement(pe,{type:he,clicked:e.purchaseContinued},"CONTINUE"))},ve=n(60),Ee=n.n(ve),be=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{show:this.props.show,clicked:this.props.closed}),r.a.createElement("div",{className:Ee.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(a.Component),ye=n(61),Oe=n.n(ye),_e=function(e){return r.a.createElement("div",{className:Oe.a.Loader},"Loading...")},je=l.a.create({baseURL:"https://burger-builder-project-8de2f.firebaseio.com/"}),ke=function(e,t){return Object(z.a)(Object(z.a)({},e),t)},Ce=function(e){var t=e.array,n=e.index,a=e.start,r=e.value;return a?[r].concat(Object(J.a)(t)):n?[].concat(Object(J.a)(t.slice(0,n)),[r],Object(J.a)(t.slice(n))):[].concat(Object(J.a)(t),[r])},Se=function(e,t,n){return function(a){je.post("/users/".concat(n,"/orders.json?auth=").concat(t),e).then((function(t){a(function(e,t){return{type:"PURCHASE_SUCCESS",order:ke(t,{id:e})}}(t.data.name,e))})).catch((function(e){alert(e),a(function(e){return{type:"PURCHASE_FAIL",error:e}}(e))})),a({type:"PURCHASE_SENT"})}},Ne=function(e,t){return{type:"AUTH_SUCCESS",token:e,userId:t}},Ae=function(e){return{type:"SET_AUTH_REDIRECT_PATH",path:e}},we=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},Ie=function(e){return function(t){setTimeout((function(){t(we())}),e)}},Pe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={purchasing:!1},e.purchaseHandler=function(){e.props.isAuth?e.setState({purchasing:!0}):(e.props.setAuthRedirect("".concat(e.props.match.url,"/checkout")),e.props.history.push("".concat(e.props.match.url,"/auth")))},e.purchaseCancelHandler=function(){e.setState({purchasing:!1})},e.purchaseContinueHandler=function(){e.props.startCheckout(),e.props.history.push("".concat(e.props.match.url,"/checkout"))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initIngredients()}},{key:"updatePurchasable",value:function(){var e=this;return Object.keys(this.props.ingredients).map((function(t){return e.props.ingredients[t]})).reduce((function(e,t){return e+t}),0)>0}},{key:"renderModal",value:function(){return r.a.createElement(be,{show:this.state.purchasing,closed:this.purchaseCancelHandler},this.props.ingredients&&r.a.createElement(ge,{purchaseCancelled:this.purchaseCancelHandler,purchaseContinued:this.purchaseContinueHandler,ingredients:this.props.ingredients,price:this.props.total}))}},{key:"renderBurger",value:function(){var e=Object(z.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;return this.props.ingredients?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{ingredients:this.props.ingredients}),r.a.createElement(se,{ingredientAdded:this.props.addIngredient,ingredientRemoved:this.props.removeIngredient,ordered:this.purchaseHandler,disabled:e,price:this.props.total,purchasable:this.updatePurchasable(),isAuth:this.props.isAuth})):this.props.error?r.a.createElement("p",null,"Ingredients can't be loaded"):r.a.createElement(_e,null)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderModal(),this.renderBurger())}}]),n}(a.Component),Te=Object(f.b)((function(e){return{ingredients:e.builder.ingredients,total:e.builder.total,error:e.builder.error,isAuth:null!==e.auth.token}}),(function(e){return{addIngredient:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ingredient:e}}(t))},removeIngredient:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredient:e}}(t))},initIngredients:function(){return e((function(e){je.get("/ingredients.json").then((function(t){var n,a=t.data;e({type:"STORE_INGREDIENTS",ingredients:{salad:(n=a).salad,bacon:n.bacon,cheese:n.cheese,meat:n.meat}})})).catch((function(t){var n=t.response?t.response.data.error:t.request?t.request:t.message;console.log(n),e({type:"FETCH_INGREDIENTS_FAILED"})}))}))},startCheckout:function(){return e({type:"PURCHASE_START"})},setAuthRedirect:function(t){return e(Ae(t))}}}))(Pe),xe=n(62),De=n.n(xe),Re=function(e){return r.a.createElement("div",{className:De.a.CheckoutSummary},r.a.createElement("h1",null,"We hope it tastes good!"),r.a.createElement("div",{style:{width:"100%",margin:"auto"}},r.a.createElement(ne,{ingredients:e.ingredients})),r.a.createElement(pe,{type:me,clicked:e.cancelled},"CANCEL"),r.a.createElement(pe,{type:he,clicked:e.continued},"CONTINUE"))},He=n(63),Be=n.n(He),Le=n(20),Ue=n.n(Le),Fe=function(e){var t,n=L()((t={},Object(H.a)(t,Ue.a.InputElement,!0),Object(H.a)(t,Ue.a.Invalid,e.invalid),t)),a={input:r.a.createElement("input",Object.assign({className:n},e.config,{value:e.value,onChange:e.changed})),textarea:r.a.createElement("textarea",Object.assign({className:n},e.config,{value:e.value,onChange:e.changed})),select:r.a.createElement("select",Object.assign({className:n},e.config,{value:e.value,onChange:e.changed}),e.options&&e.options.map((function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))};return r.a.createElement("div",{className:Ue.a.Input},e.label&&r.a.createElement("label",{className:Ue.a.Label},e.label),a[e.type],function(){var t,n=L()((t={},Object(H.a)(t,Ue.a.ValidationError,!0),Object(H.a)(t,Ue.a.Invisible,!e.invalid),t));return r.a.createElement("p",{className:n},"Please, enter a valid ",e.config.name)}())},Me="input",Ve="select",Ge=function(e,t){var n=!0;return t.required&&(n&=""!==e.trim()),t.minLen&&(n&=e.length>=t.minLen),t.email&&(n&=null!==e.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)),n},qe=function(e){var t=e.label||"Default",n=We({type:e.type,name:t.toLowerCase().replace(" ","-"),value:e.value,validation:e.validation,placeholder:e.placeholder});return Object(z.a)(Object(z.a)({},n),{},{label:t})},We=function(e){var t=e.type||"text",n=e.name||"",a=e.validation,r=e.placeholder||"",o=e.value||"";return{type:Me,config:{type:t,name:n,placeholder:r},value:o,validation:a,valid:!1,touched:!1}},Ye=function(e){var t=e.label||"Default",n=ze({type:e.type,name:t.toLowerCase().replace(" ","-"),selected:e.selected,options:e.options});return Object(z.a)(Object(z.a)({},n),{},{label:t})},ze=function(e){var t=e.name||"",n=e.selected||0,a=e.options?e.options.map((function(e){return{value:e.toLowerCase(),label:e}})):[];return{type:Ve,options:a,config:{name:t},value:a[n]?a[n].value:""}},Je=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{name:qe({placeholder:"Your Name",validation:{required:!0,minLen:2}}),street:qe({label:"Street",placeholder:"Your Street",validation:{required:!0}}),country:qe({label:"Country",placeholder:"Your Country"}),email:qe({label:"Email",placeholder:"Your Email",type:"email",validation:{required:!0,email:!0}}),deliveryMethod:Ye({label:"Delivery Method",options:["Fastest","Cheapest"],selected:0})},valid:!1},e.inputChangedHandler=function(t,n){var a=n.target.value,r=Object(z.a)({},e.state.form[t]);r.validation&&(r.valid=Ge(a,r.validation),r.touched=!0);var o=Object(z.a)(Object(z.a)({},e.state.form),{},Object(H.a)({},t,Object(z.a)(Object(z.a)({},r),{},{value:a})));e.setState({form:o,valid:Object.keys(o).reduce((function(e,t){return e&&(!o[t].validation||o[t].valid)}),!0)})},e.orderHandler=function(t){t.preventDefault();var n=Object.keys(e.state.form).reduce((function(t,n){return t[n]=e.state.form[n].value,t}),{}),a={ingredients:e.props.ingredients,price:e.props.price,contactInfo:n};e.props.orderBurger(a,e.props.token,e.props.userId)},e}return Object(u.a)(n,[{key:"renderForm",value:function(){var e=this,t=Object.keys(this.state.form).map((function(t){var n=e.state.form[t];return r.a.createElement(Fe,{changed:e.inputChangedHandler.bind(e,t),key:t,type:n.type,value:n.value,label:n.label,config:n.config,options:n.options,invalid:"valid"in n&&(!n.valid&&n.touched)})}));return r.a.createElement("form",{onSubmit:this.orderHandler},t,r.a.createElement(pe,{type:he,disabled:!this.state.valid,clicked:this.orderHandler},"ORDER"))}},{key:"renderContactData",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.loading?r.a.createElement(_e,null):this.renderForm())}},{key:"render",value:function(){return r.a.createElement("div",{className:Be.a.ContactData},r.a.createElement("h4",null,"Enter your contact data"),this.renderContactData())}}]),n}(a.Component),Xe=Object(f.b)((function(e){return{ingredients:e.builder.ingredients,price:e.builder.total,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{orderBurger:function(t,n,a){return e(Se(t,n,a))}}}))(Je),Qe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).goBack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;e.props.history.go(t)},e.checkoutCancelledHandler=function(){e.goBack()},e.checkoutContinuedHandler=function(){e.props.history.push("".concat(e.props.match.url,"/contact-data"))},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.ingredients?this.props.purchased?this.goBack(-2):r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,{ingredients:this.props.ingredients,cancelled:this.checkoutCancelledHandler,continued:this.checkoutContinuedHandler}),r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/contact-data"),component:Xe})):this.goBack())}}]),n}(a.Component),Ze=Object(f.b)((function(e){return{ingredients:e.builder.ingredients,purchased:e.order.purchased}}))(Qe),Ke=n(40),$e=n.n(Ke),et=function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("span",{className:$e.a.Ingredient,key:t},t," (",e.ingredients[t],")")}));return r.a.createElement("div",{className:$e.a.Order},r.a.createElement("p",null,"Ingredients: ",t),r.a.createElement("p",null,"Price: ",r.a.createElement("strong",null,"$",e.price.toFixed(2))))},tt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.loading?r.a.createElement(_e,null):this.props.orders.map((function(e){return r.a.createElement(et,{key:e.id,ingredients:e.ingredients,price:e.price})})))}}]),n}(a.Component),nt=Object(f.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{fetchOrders:function(t,n){return e(function(e,t){return null===e&&(e=localStorage.getItem("token"),t=localStorage.getItem("userId")),function(n){je.get("/users/".concat(t,"/orders.json?auth=").concat(e)).then((function(e){var t=e.data?Object.keys(e.data).map((function(t){return Object(z.a)({id:t},e.data[t])})):[];n(function(e){return{type:"FETCH_ORDERS_SUCCESS",orders:e}}(t))})).catch((function(e){alert(e);var t=e.response?e.response.data.error:e.request?e.request:e.message;console.log(t),n(function(e){return{type:"FETCH_ORDERS_FAIL",error:e}}(t))})),n({type:"FETCH_ORDERS_SENT"})}}(t,n))}}}))(tt),at=n(41),rt=n.n(at),ot=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{email:We({name:"auth-email",placeholder:"Email",type:"email",validation:{required:!0,email:!0}}),password:We({name:"auth-password",placeholder:"Password",type:"password",validation:{required:!0,minLen:6}})},valid:!1,isSignup:!0},e.checkFormValidity=function(e){return Object.keys(e).reduce((function(t,n){return t&&(!e[n].validation||e[n].valid)}),!0)},e.inputChangedHandler=function(t,n){var a=n.target.value,r=Object(z.a)({},e.state.form[t]);r.validation&&(r.valid=Ge(a,r.validation),r.touched=!0);var o=Object(z.a)(Object(z.a)({},e.state.form),{},Object(H.a)({},t,Object(z.a)(Object(z.a)({},r),{},{value:a})));e.setState({form:o,valid:e.checkFormValidity(o)})},e.authHandler=function(t){t.preventDefault(),e.props.auth(e.state.form.email.value,e.state.form.password.value,e.state.isSignup)},e.toggleAuthModeHandler=function(){e.setState((function(e){return Object(z.a)(Object(z.a)({},e),{},{isSignup:!e.isSignup})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.building||this.props.authRedirectPath===this.props.parentPath||this.props.setRedirectPath(this.props.parentPath)}},{key:"renderForm",value:function(){var e=this,t=Object.keys(this.state.form).map((function(t){var n=e.state.form[t];return r.a.createElement(Fe,{changed:e.inputChangedHandler.bind(e,t),key:t,type:n.type,value:n.value,label:n.label,config:n.config,options:n.options,invalid:"valid"in n&&(!n.valid&&n.touched)})}));return r.a.createElement("form",{onSubmit:this.authHandler},t,r.a.createElement(pe,{type:he,disabled:!this.state.valid},"SUBMIT"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isAuth?r.a.createElement(m.a,{to:this.props.authRedirectPath}):r.a.createElement("div",{className:rt.a.Auth},r.a.createElement("p",{className:rt.a.Error},this.props.error&&this.props.error.message),this.props.loading?r.a.createElement(_e,null):this.renderForm(),r.a.createElement(pe,{type:fe,clicked:this.toggleAuthModeHandler},"SWITCH TO ",this.state.isSignup?"SIGN IN":"SIGN UP")))}}]),n}(a.Component),ct=Object(f.b)((function(e){return{building:e.builder.building,loading:e.auth.loading,error:e.auth.error,isAuth:null!==e.auth.token,authRedirectPath:e.auth.redirectPath}}),(function(e){return{auth:function(t,n,a){return e(function(e,t,n){var a={email:e,password:t,returnSecureToken:!0},r=n?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyCRsLUzRlOt_9TcjQLwPd6SuZLLF6bJCTg"):"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyCRsLUzRlOt_9TcjQLwPd6SuZLLF6bJCTg");return function(e){l.a.post(r,a).then((function(t){var n=t.data,a=n.localId,r=n.idToken,o=n.expiresIn,c=new Date((new Date).getTime()+1e3*o);localStorage.setItem("token",r),localStorage.setItem("userId",a),localStorage.setItem("expirationDate",c),e(Ne(r,a)),e(Ie(1e3*o))})).catch((function(t){var n=t.response?t.response.data.error:t.request?t.request:t.message;console.log(n),e(function(e){return{type:"AUTH_FAIL",error:e}}(n))})),e({type:"AUTH_SENT"})}}(t,n,a))},setRedirectPath:function(t){return e(Ae(t))}}}))(ot),it=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement(m.a,{to:this.props.parentPath})}}]),n}(a.Component),lt=Object(f.b)(null,(function(e){return{logout:function(){return e(we())}}}))(it),st=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.autoSignOn()}},{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(Y,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/auth"),children:r.a.createElement(ct,{parentPath:this.props.match.url})}),this.props.isAuth&&r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/checkout"),component:Ze}),this.props.isAuth&&r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/orders"),component:nt}),this.props.isAuth&&r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/logout"),children:r.a.createElement(lt,{parentPath:this.props.match.url})}),r.a.createElement(m.b,{path:this.props.match.url,exact:!0,component:Te}),!this.props.isAuth&&r.a.createElement(m.a,{to:this.props.match.url}))))}}]),n}(a.Component),ut=Object(f.b)((function(e){return{isAuth:null!==e.auth.token}}),(function(e){return{autoSignOn:function(){return e((function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId");if(t&&n){var a=new Date(localStorage.getItem("expirationDate"));a>new Date?(e(Ne(t,n)),e(Ie(a.getTime()-(new Date).getTime()))):e(we())}else e(we())}))}}}))(Object(m.g)(st)),dt={salad:.5,cheese:.4,meat:1.3,bacon:.7},pt={ingredients:null,total:0,error:!1,building:!1},ht=function(e,t){return ke(e,{ingredients:ke(e.ingredients,Object(H.a)({},t.ingredient,e.ingredients[t.ingredient]+1)),total:e.total+dt[t.ingredient],building:!0})},mt=function(e,t){return ke(e,{ingredients:ke(e.ingredients,Object(H.a)({},t.ingredient,e.ingredients[t.ingredient]-1)),total:e.total-dt[t.ingredient],building:!0})},ft=function(e,t){return ke(e,{ingredients:t.ingredients,total:(n=t.ingredients,a=dt,n&&a?Object.keys(n).reduce((function(e,t){return e+a[t]*n[t]}),0):0),error:!1,building:!1});var n,a},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INGREDIENT":return ht(e,t);case"REMOVE_INGREDIENT":return mt(e,t);case"STORE_INGREDIENTS":return ft(e,t);case"FETCH_INGREDIENTS_FAILED":return ke(e,{error:!0});default:return e}},vt={orders:[],loading:!1,error:"",purchased:!1},Et=function(e,t){return ke(e,{loading:!1,purchased:!0,orders:Ce({array:e.orders,value:t.order})})},bt=function(e,t){return ke(e,{loading:!1,purchased:!0,orders:t.orders})},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_START":return ke(e,{purchased:!1});case"PURCHASE_SENT":return ke(e,{loading:!0});case"PURCHASE_SUCCESS":return Et(e,t);case"PURCHASE_FAIL":return ke(e,{loading:!1,error:t.error});case"FETCH_ORDERS_SENT":return ke(e,{loading:!0});case"FETCH_ORDERS_SUCCESS":return bt(e,t);case"FETCH_ORDERS_FAIL":return ke(e,{loading:!1,error:t.error});default:return e}},Ot={token:null,userId:null,error:null,loading:!1,redirectPath:""},_t=function(e,t){return ke(e,{error:null,loading:!0})},jt=function(e,t){return ke(e,{token:t.token,userId:t.userId,loading:!1})},kt=function(e,t){return ke(e,{error:t.error,loading:!1})},Ct=function(e,t){return ke(e,{token:null,userId:null})},St=function(e,t){return ke(e,{redirectPath:t.path})},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SENT":return _t(e,t);case"AUTH_SUCCESS":return jt(e,t);case"AUTH_FAIL":return kt(e,t);case"AUTH_LOGOUT":return Ct(e,t);case"SET_AUTH_REDIRECT_PATH":return St(e,t);default:return e}},At=Object(g.c)({builder:gt,order:yt,auth:Nt}),wt=g.d,It=Object(g.e)(At,wt(Object(g.a)(v.a))),Pt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(f.a,{store:It},r.a.createElement(ut,null))}}]),n}(a.Component),Tt=function(e){return r.a.createElement("input",{style:{border:"1px solid #888",height:"22px",paddingLeft:"8px"},onChange:e.changed,value:e.userName})},xt=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"UserName: ",e.userName),r.a.createElement("p",null,"Please, change your user name as soon as possible"))},Dt=(n(95),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userNames:["defaultusername","defaultusername"]},e.userNameChanged=function(t,n){var a=e.state.userNames;a[t]=n.target.value,e.setState({userNames:a})},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"user-card"},r.a.createElement(Tt,{userName:this.state.userNames[0],changed:this.userNameChanged.bind(this,0)}),r.a.createElement(xt,{userName:this.state.userNames[0]})),r.a.createElement("div",{className:"user-card"},r.a.createElement(Tt,{userName:this.state.userNames[1],changed:this.userNameChanged.bind(this,1)}),r.a.createElement(xt,{userName:this.state.userNames[1]})))}}]),n}(a.Component)),Rt=function(e){return r.a.createElement("p",null,e.length<5?"Text too short":"Text long enouth")},Ht=function(e){return r.a.createElement("div",{style:{display:"inline-block",padding:"16px",textAlign:"center",margin:"16px",border:"1px solid black"},onClick:e.click},e.letter)},Bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.changeInputHandler=function(t){e.setState({input:t.target.value})},e.deleteLetterHandler=function(t){var n=e.state.input.split("");n.splice(t,1),e.setState({input:n.join("")})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.input.length;return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.input,onChange:this.changeInputHandler}),r.a.createElement("p",null,t),r.a.createElement(Rt,{length:t}),this.state.input.split("").map((function(t,n){return r.a.createElement(Ht,{key:n,letter:t,click:e.deleteLetterHandler.bind(e,n)})})))}}]),n}(a.Component),Lt=n(64),Ut=n.n(Lt),Ft=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=Ut.a.parse(this.props.location.search);return r.a.createElement("div",null,r.a.createElement("h1",null,e["?title"]),r.a.createElement("p",null,"You selected the Course with ID: ",this.props.match.params.id))}}]),n}(a.Component),Mt=(n(98),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={courses:[{id:1,title:"Angular - The Complete Guide"},{id:2,title:"Vue - The Complete Guide"},{id:3,title:"PWA - The Complete Guide"}]},e.courseClickedHandler=function(t,n){e.props.history.push("".concat(e.props.match.url,"/").concat(t,"?title=").concat(n))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Amazing Udemy Courses"),r.a.createElement("section",{className:"Courses"},this.state.courses.map((function(t){return r.a.createElement("article",{className:"Course",key:t.id,onClick:e.courseClickedHandler.bind(e,t.id,t.title)},t.title)}))),r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/:id"),exact:!0,component:Ft}))}}]),n}(a.Component)),Vt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"The Users Page"))}}]),n}(a.Component),Gt=n(65),qt=n.n(Gt),Wt={users:{component:Vt,path:"/users",title:"Users"},courses:{component:Mt,path:"/courses",title:"Courses"}},Yt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderNavBar",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",null,Object.keys(Wt).map((function(t){return r.a.createElement("li",{key:t},r.a.createElement(h.b,{to:e.props.match.url+Wt[t].path},Wt[t].title))})))))}},{key:"render",value:function(){return r.a.createElement("div",{className:qt.a.Exercise3},this.renderNavBar(),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/users"),component:Wt.users.component}),r.a.createElement(m.b,{path:"".concat(this.props.match.url,"/courses"),component:Wt.courses.component}),r.a.createElement(m.a,{from:"".concat(this.props.match.url,"/all-courses"),to:"".concat(this.props.match.url,"/courses")}),r.a.createElement(m.a,{from:"".concat(this.props.match.url),exact:!0,to:"".concat(this.props.match.url,"/courses")}),r.a.createElement(m.b,{render:function(){return r.a.createElement("p",null,"404 - Page not Found")}})))}}]),n}(a.Component),zt=Object(m.g)(Yt),Jt=(n(99),function(e){return r.a.createElement("div",{className:"Person",onClick:e.clicked},r.a.createElement("h1",null,e.name),r.a.createElement("p",null,"Age: ",e.age))}),Xt=(n(100),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",age:0},e.nameChangeHandler=function(t){e.setState({name:t.target.value})},e.ageChangeHandler=function(t){e.setState({age:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"AddPerson"},r.a.createElement("input",{type:"text",placeholder:"Naame",onChange:this.nameChangeHandler,value:this.state.name}),r.a.createElement("input",{type:"number",placeholder:"Age",onChange:this.ageChangeHandler,value:this.state.age}),r.a.createElement("button",{onClick:function(){return e.props.personAdded(e.state.name,e.state.age)}},"Add Person"))}}]),n}(a.Component)),Qt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Xt,{personAdded:this.props.addPerson}),this.props.persons.map((function(t){return r.a.createElement(Jt,{key:t.id,name:t.name,age:t.age,clicked:function(){return e.props.delPerson(t.id)}})})))}}]),n}(a.Component),Zt=Object(f.b)((function(e){return{persons:e.persons}}),(function(e){return{addPerson:function(t,n){return e({type:"ADD",person:{name:t,age:n}})},delPerson:function(t){return e({type:"DEL",id:t})}}}))(Qt),Kt={persons:[]},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var n={id:Math.random(),name:t.person.name,age:t.person.age};return Object(z.a)(Object(z.a)({},e),{},{persons:[].concat(Object(J.a)(e.persons),[n])});case"DEL":return Object(z.a)(Object(z.a)({},e),{},{persons:e.persons.filter((function(e){return e.id!==t.id}))});default:return e}},en=Object(g.e)($t),tn=function(){return r.a.createElement("div",null,r.a.createElement("ol",null,r.a.createElement("li",null,"Turn this app into one which does NOT use local state (in components) but instead uses Redux")),r.a.createElement(f.a,{store:en},r.a.createElement(Zt,null)))},nn=r.a.createContext({authenticated:!1,login:function(){}}),an=n(66),rn=n.n(an),on=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).inputElementRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.inputElementRef.current.focus(),console.log(this.context.authenticated)}},{key:"render",value:function(){return r.a.createElement("div",{className:rn.a.Person},this.context.authenticated?r.a.createElement("p",null,"Authenticated"):r.a.createElement("p",null,"Please Log in"),r.a.createElement("p",{onClick:this.props.click},"I'm a ",this.props.name,"! and i am ",this.props.age," years old"),r.a.createElement("p",null,this.props.children),r.a.createElement("input",{ref:this.inputElementRef,type:"text",value:this.props.name,onChange:this.props.changed}))}}]),n}(a.Component);on.contextType=nn;var cn=on,ln=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={persons:[{id:"p0",name:"Vini",age:31,content:""},{id:"p1",name:"Gabi",age:25,content:"Fofa e linda"},{id:"p2",name:"Pingo",age:14,content:"Fofo e ticudo"}],showPersons:!1},e.nameChangedHandler=function(t,n){var a=Object(J.a)(e.state.persons);a[t].name=n.target.value,e.setState({persons:a})},e.togglePersonsButtonPressed=function(){var t=!e.state.showPersons;e.setState({showPersons:t})},e.deletePersonHandler=function(t){var n=Object(J.a)(e.state.persons);n.splice(t,1),e.setState({persons:n})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=null;return this.state.showPersons&&(t=r.a.createElement("div",null,this.state.persons.map((function(t,n){return r.a.createElement(cn,{click:e.deletePersonHandler.bind(e,n),changed:e.nameChangedHandler.bind(e,n),key:t.id,name:t.name,age:t.age},t.content)})))),r.a.createElement("div",null,r.a.createElement("h1",null,"Hi, i am a React App"),r.a.createElement("button",{style:{backgroundColor:"white",font:"inherit",border:"1px solid blue",padding:"8px",cursor:"pointer"},onClick:this.togglePersonsButtonPressed},"Toggle Persons"),t)}}]),n}(a.Component),sn=n(26),un=n.n(sn),dn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={persons:[{id:"p0",name:"Vini",age:31,content:""},{id:"p1",name:"Gabi",age:25,content:"Fofa e linda"},{id:"p2",name:"Pingo",age:14,content:"Fofo e ticudo"}],showPersons:!1},e.nameChangedHandler=function(t,n){var a=Object(J.a)(e.state.persons);a[t].name=n.target.value,e.setState({persons:a})},e.togglePersonsButtonPressed=function(){var t=!e.state.showPersons;e.setState({showPersons:t})},e.deletePersonHandler=function(t){var n=Object(J.a)(e.state.persons);n.splice(t,1),e.setState({persons:n})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=[un.a.Button],n=null;this.state.showPersons&&(n=r.a.createElement("div",null,this.state.persons.map((function(t,n){return r.a.createElement(cn,{click:e.deletePersonHandler.bind(e,n),changed:e.nameChangedHandler.bind(e,n),key:t.id,name:t.name,age:t.age},t.content)}))),t.push(un.a.Red));var a=[];return this.state.persons.length<=2&&(a.push(un.a.red),this.state.persons.length<=1&&a.push(un.a.bold)),r.a.createElement("div",null,r.a.createElement("h1",null,"Hi, i am a React App"),r.a.createElement("p",{className:a.join(" ")},"This should be styled dynamically"),r.a.createElement("button",{className:t.join(" "),onClick:this.togglePersonsButtonPressed},"Toggle Persons"),n)}}]),n}(a.Component),pn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,errorMessage:""},e.componentDidCatch=function(t,n){e.setState({hasError:!0,errorMessage:t})},e}return Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,this.state.errorMessage):this.props.children}}]),n}(a.Component),hn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={person:{id:"p0",name:"Vini",age:31,content:""}},e.nameChangedHandler=function(t){e.setState(Object(z.a)(Object(z.a)({},e.state.person),{},{name:t.target.value}))},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(pn,{key:this.state.person.id},r.a.createElement(cn,{changed:this.nameChangedHandler.bind(this),name:this.state.person.name,age:this.state.person.age},this.state.person.content))}}]),n}(a.Component),mn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.props.persons.map((function(t,n){return r.a.createElement(cn,{click:function(){return e.props.clicked(n)},changed:function(t){return e.props.changed(n,t)},key:t.id,name:t.name,age:t.age,isAuth:e.props.isAuthenticated},t.content)}))}}]),n}(a.PureComponent),fn=n(27),gn=n.n(fn),vn=r.a.memo((function(e){Object(a.useEffect)((function(){}),[e.personsLength]),Object(a.useEffect)((function(){t.current.click()}),[]);var t=Object(a.useRef)(null),n=Object(a.useContext)(nn),o=[],c="";return e.showPersons&&(c=gn.a.Red),e.personsLength<=2&&(o.push(gn.a.red),e.personsLength<=1&&o.push(gn.a.bold)),r.a.createElement("div",{className:gn.a.Cockpit},r.a.createElement("h1",null,e.title),r.a.createElement("p",{className:o.join(" ")},"This should be styled dynamically"),r.a.createElement("button",{ref:t,className:c,onClick:e.clicked},"Toggle Persons"),r.a.createElement("button",{onClick:n.login},"Log In"))})),En=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={persons:[{id:"p0",name:"Vini",age:31,content:""},{id:"p1",name:"Gabi",age:25,content:"Fofa e linda"},{id:"p2",name:"Pingo",age:14,content:"Fofo e ticudo"}],showPersons:!1,changesCount:0,authenticated:!1},a.nameChangedHandler=function(e,t){var n=Object(J.a)(a.state.persons);n[e].name=t.target.value,a.setState((function(e,t){return{persons:n,changesCount:e.changesCount+1}}))},a.togglePersonsButtonPressed=function(){var e=!a.state.showPersons;a.setState({showPersons:e})},a.deletePersonHandler=function(e){var t=Object(J.a)(a.state.persons);t.splice(e,1),a.setState({persons:t})},a.loginHandler=function(){a.setState({authenticated:!0})},console.log("[AdvancedFeatures] constructor"),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return{message:"Snapshot works"}}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=null;return this.state.showPersons&&(e=r.a.createElement(mn,{persons:this.state.persons,clicked:this.deletePersonHandler,changed:this.nameChangedHandler,isAuthenticated:this.state.authenticated})),r.a.createElement(nn.Provider,{value:{authenticated:this.state.authenticated,login:this.loginHandler}},r.a.createElement(vn,{title:this.props.title,showPersons:this.state.showPersons,personsLength:this.state.persons.length,clicked:this.togglePersonsButtonPressed,login:this.loginHandler}),e)}}]),n}(a.Component),bn=(n(101),Object(m.g)((function(e){return r.a.createElement("article",{className:"Post",onClick:e.clicked},r.a.createElement("h1",null,e.title),r.a.createElement("div",{className:"Info"},r.a.createElement("div",{className:"Author"},e.author)))}))),yn=(n(102),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadedPost:null},e.deletePostHandler=function(){l.a.delete("/posts/"+e.props.match.params.id).then((function(e){console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;this.props.match.params.id&&(this.state.loadedPost&&this.state.loadedPost.id===+this.props.match.params.id||l.a.get("/posts/"+this.props.match.params.id).then((function(t){e.setState({loadedPost:t.data})})))}},{key:"render",value:function(){var e=r.a.createElement("p",{style:{textAlign:"center"}},"Please, select a post");return this.props.match.params.id&&(e=r.a.createElement("p",{style:{textAlign:"center"}},"Loading...")),this.state.loadedPost&&(e=r.a.createElement("div",{className:"FullPost"},r.a.createElement("h1",null,this.state.loadedPost.title),r.a.createElement("p",null,this.state.loadedPost.body),r.a.createElement("div",{className:"Edit"},r.a.createElement("button",{className:"Delete",onClick:this.deletePostHandler},"Delete")))),e}}]),n}(a.Component)),On=(n(103),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={posts:[]},e.postClickedHandler=function(t){e.props.history.push({pathname:e.props.match.url+"/"+t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;l.a.get("/posts").then((function(t){var n=t.data.slice(0,4).map((function(e){return Object(z.a)(Object(z.a)({},e),{},{author:"Vini"})}));e.setState({posts:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts.map((function(t){return r.a.createElement(bn,{key:t.id,title:t.title,author:t.author,clicked:e.postClickedHandler.bind(e,t.id)})}));return r.a.createElement("div",null,r.a.createElement("section",{className:"Posts"},t),r.a.createElement(m.b,{path:this.props.match.url+"/:id",exact:!0,component:yn}))}}]),n}(a.Component)),_n=(n(104),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",content:"",author:"Vini"},e.postDataHandler=function(){var t={title:e.state.title,body:e.state.content,author:e.state.author};l.a.post("/posts",t).then((function(t){console.log(t),console.log(e.props),e.props.history.goBack()}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"NewPost"},r.a.createElement("h1",null,"Add a Post"),r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("label",null,"Content"),r.a.createElement("textarea",{rows:"4",value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}}),r.a.createElement("label",null,"Author"),r.a.createElement("select",{value:this.state.author,onChange:function(t){return e.setState({author:t.target.value})}},r.a.createElement("option",{value:"Vini"},"Vini"),r.a.createElement("option",{value:"Gabi"},"Gabi")),r.a.createElement("button",{onClick:this.postDataHandler},"Add Post"))}}]),n}(a.Component)),jn=(n(105),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={auth:!0},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Blog"},r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.b,{to:this.props.match.url+"/posts",exact:!0,activeClassName:"active"},"Posts")),r.a.createElement("li",null,r.a.createElement(h.b,{to:{pathname:this.props.match.url+"/new-post",hash:"#submit",search:"?quick-submit=true"}},"New Post"))))),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:this.props.match.url+"/posts",component:On}),this.state.auth&&r.a.createElement(m.b,{path:this.props.match.url+"/new-post",component:_n}),r.a.createElement(m.a,{from:this.props.match.url,to:this.props.match.url+"/posts"})))}}]),n}(a.Component)),kn=Object(m.g)(jn),Cn=function(){return r.a.createElement(kn,null)},Sn=function(){return r.a.createElement(kn,null)},Nn=(n(106),function(e){return r.a.createElement("div",{className:"CounterControl",onClick:e.clicked},e.label)}),An=(n(107),function(e){return r.a.createElement("div",{className:"CounterOutput"},"Current Counter: ",e.value)}),wn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(An,{value:this.props.counter}),r.a.createElement(Nn,{label:"Increment",clicked:this.props.increment}),r.a.createElement(Nn,{label:"Decrement",clicked:this.props.decrement}),r.a.createElement(Nn,{label:"Add 5",clicked:this.props.add5}),r.a.createElement(Nn,{label:"Subtract 5",clicked:this.props.sub5}),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(){return e.props.saveResult(e.props.counter)}},"Save Result"),r.a.createElement("ul",null,this.props.results.map((function(t){return r.a.createElement("li",{key:t.id,onClick:function(){return e.props.deleteResult(t.id)}},t.value)}))))}}]),n}(a.Component),In=Object(f.b)((function(e){return{counter:e.control.counter,results:e.storage.results}}),(function(e){return{increment:function(){return e({type:"INCREMENT"})},decrement:function(){return e({type:"DECREMENT"})},add5:function(){return e({type:"ADD",value:5})},sub5:function(){return e({type:"SUB",value:5})},saveResult:function(t){return e(function(e){return function(t){setTimeout((function(){t(function(e){return{type:"STORE_RESULT",value:e}}(e))}),2e3)}}(t))},deleteResult:function(t){return e(function(e){return{type:"DEL_RESULT",id:e}}(t))}}}))(wn),Pn=function(e,t){return Object(z.a)(Object(z.a)({},e),t)},Tn=function(e){var t=e.array,n=e.index,a=e.start,r=e.value;return a?[r].concat(Object(J.a)(t)):n?[].concat(Object(J.a)(t.slice(0,n)),[r],Object(J.a)(t.slice(n))):[].concat(Object(J.a)(t),[r])},xn=function(e){var t=e.array,n=e.index,a=e.prop;return n?[].concat(Object(J.a)(t.slice(0,n)),Object(J.a)(t.slice(n))):a?t.filter((function(e){return e[a.key]!==a.value})):Object(J.a)(t)},Dn={counter:0},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return Pn(e,{counter:e.counter+1});case"DECREMENT":return Pn(e,{counter:e.counter-1});case"ADD":return Pn(e,{counter:e.counter+t.value});case"SUB":return Pn(e,{counter:e.counter-t.value});default:return e}},Hn={results:[]},Bn=function(e,t){return Pn(e,{results:Tn({array:e.results,value:{id:new Date,value:t.value}})})},Ln=function(e,t){return Pn(e,{results:xn({array:e.results,prop:{key:"id",value:t.id}})})},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_RESULT":return Bn(e,t);case"DEL_RESULT":return Ln(e,t);default:return e}},Fn=Object(g.c)({control:Rn,storage:Un}),Mn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d,Vn=Object(g.e)(Fn,Mn(Object(g.a)((function(e){return function(t){return function(n){console.log("[Log] old state",e.getState()),console.log("[Log] Dispatching",n);var a=t(n);return console.log("[Log] next state",e.getState()),a}}}),v.a))),Gn=function(){return r.a.createElement(f.a,{store:Vn},r.a.createElement(In,null))},qn=n(21),Wn=n.n(qn),Yn=[{component:r.a.createElement(Dt,null),value:1,title:"Exercise 1"},{component:r.a.createElement(Bt,null),value:2,title:"Exercise 2"},{component:r.a.createElement(zt,null),value:3,title:"Exercise 3"},{component:r.a.createElement(tn,null),value:4,title:"Exercise 4"}],zn=[{component:r.a.createElement(ln,null),value:1,title:"Basic Features"},{component:r.a.createElement(dn,null),value:2,title:"Styling React"},{component:r.a.createElement(hn,null),value:3,title:"Error Boundaries"},{component:r.a.createElement(En,{title:"Advanced Features"}),value:4,title:"Advanced Features"},{component:r.a.createElement(Cn,null),value:5,title:"Reaching Web"},{component:r.a.createElement(Sn,null),value:6,title:"Routing"},{component:r.a.createElement(Gn,null),value:7,title:"Redux"}],Jn=[{title:"Exercises",path:"/exercises"},{title:"Sections",path:"/sections"},{title:"Project",path:"/project"}],Xn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeExercise=function(e,t){e.push("/exercises/"+t.target.value)},e.changeSection=function(e,t){e.push("/sections/"+t.target.value)},e}return Object(u.a)(n,[{key:"renderHeaderNav",value:function(){return r.a.createElement("header",{className:Wn.a.AppHeader},r.a.createElement("nav",null,r.a.createElement("ul",{className:Wn.a.AppNav},Jn.map((function(e){return r.a.createElement("li",{className:Wn.a.AppNavItem,key:e.path},r.a.createElement(h.b,{className:Wn.a.AppNavLink,activeClassName:Wn.a.active,to:e.path},e.title))})))))}},{key:"renderExerciseSwitch",value:function(e){var t=e.history,n=e.match;return r.a.createElement("select",{name:"exercises",id:"ex-select",onChange:this.changeExercise.bind(this,t),value:n.params.id},Yn.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.title)})))}},{key:"renderSectionSwitch",value:function(e){var t=e.history,n=e.match;return r.a.createElement("select",{name:"sections",id:"sec-select",onChange:this.changeSection.bind(this,t),value:n.params.id},zn.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.title)})))}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:Wn.a.App},this.renderHeaderNav(),r.a.createElement(m.d,{basename:"/react-projects"},r.a.createElement(m.b,{path:"/exercises",exact:!0,render:function(){return r.a.createElement(m.a,{to:"/exercises/1"})}}),r.a.createElement(m.b,{path:"/exercises/:id",render:function(t){return r.a.createElement(r.a.Fragment,null,e.renderExerciseSwitch(t),r.a.createElement("hr",{style:{width:"80%"}}),Yn[t.match.params.id-1].component)}}),r.a.createElement(m.b,{path:"/sections",exact:!0,render:function(){return r.a.createElement(m.a,{to:"/sections/1"})}}),r.a.createElement(m.b,{path:"/sections/:id",render:function(t){return r.a.createElement(r.a.Fragment,null,e.renderSectionSwitch(t),r.a.createElement("hr",{style:{width:"80%"}}),zn[t.match.params.id-1].component)}}),r.a.createElement(m.b,{path:"/project"},r.a.createElement("hr",{style:{width:"80%"}}),r.a.createElement(Pt,null)))))}}]),n}(a.Component),Qn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.defaults.baseURL="https://jsonplaceholder.typicode.com",c.a.render(r.a.createElement(Xn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-projects",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-projects","/service-worker.js");Qn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Zn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Zn(e)}))}}()}]),[[67,1,2]]]);
//# sourceMappingURL=main.1defa803.chunk.js.map